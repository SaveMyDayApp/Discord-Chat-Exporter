import{_ as T}from"./alert-twotone.f04cd538.js";import{_ as B}from"./Button.9419f5df.js";import{a as n,c,b as t,y as x,_ as R,h as U,M as E,O as N,P,Z as D,k as s,d as o,t as Y,F as d,D as _,m,R as H,S as j}from"./vendor.9ed9cc35.js";/* empty css              *//* empty css                    *//* empty css              */import{u as A}from"./index.6dc802d2.js";import{d as O,h as W,u as F}from"./global.7b5e3d25.js";const G={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024"},K=t("path",{fill:"currentColor","fill-opacity":".15",d:"M911.9 283.9v.5L835.5 865c-1 8-7.9 14-15.9 14H204.5c-8.1 0-14.9-6.1-16-14l-76.4-580.6v-.6v1.6L188.5 866c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6c.1-.5.1-1 0-1.5z"},null,-1),Z=t("path",{fill:"currentColor","fill-opacity":".15",d:"m773.6 810.6l53.9-409.4l-139.8 86.1L512 252.9L336.3 487.3l-139.8-86.1l53.8 409.4h523.3zm-374.2-189c0-62.1 50.5-112.6 112.6-112.6s112.6 50.5 112.6 112.6v1c0 62.1-50.5 112.6-112.6 112.6s-112.6-50.5-112.6-112.6v-1z"},null,-1),q=t("path",{fill:"currentColor",d:"M512 734.2c61.9 0 112.3-50.2 112.6-112.1v-.5c0-62.1-50.5-112.6-112.6-112.6s-112.6 50.5-112.6 112.6v.5c.3 61.9 50.7 112.1 112.6 112.1zm0-160.9c26.6 0 48.2 21.6 48.2 48.3c0 26.6-21.6 48.3-48.2 48.3s-48.2-21.6-48.2-48.3c0-26.6 21.6-48.3 48.2-48.3z"},null,-1),J=t("path",{fill:"currentColor",d:"M188.5 865c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6v-.5c.3-6.4-6.7-10.8-12.3-7.4L705 396.4L518.4 147.5a8.06 8.06 0 0 0-12.9 0L319 396.4L124.3 276.5c-5.5-3.4-12.6.9-12.2 7.3v.6L188.5 865zm147.8-377.7L512 252.9l175.7 234.4l139.8-86.1l-53.9 409.4H250.3l-53.8-409.4l139.8 86.1z"},null,-1),Q=[K,Z,q,J];function X(a,u){return n(),c("svg",G,Q)}var ee={name:"ant-design-crown-twotone",render:X};const te={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024"},oe=t("path",{fill:"currentColor","fill-opacity":".15",d:"M512 220c-55.6 0-107.8 21.6-147.1 60.9S304 372.4 304 428v340h416V428c0-55.6-21.6-107.8-60.9-147.1S567.6 220 512 220zm280 208c0-141.1-104.3-257.8-240-277.2v.1c135.7 19.4 240 136 240 277.1zM472 150.9v-.1C336.3 170.2 232 286.9 232 428c0-141.1 104.3-257.7 240-277.1z"},null,-1),se=t("path",{fill:"currentColor",d:"M816 768h-24V428c0-141.1-104.3-257.7-240-277.1V112c0-22.1-17.9-40-40-40s-40 17.9-40 40v38.9c-135.7 19.4-240 136-240 277.1v340h-24c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h216c0 61.8 50.2 112 112 112s112-50.2 112-112h216c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM512 888c-26.5 0-48-21.5-48-48h96c0 26.5-21.5 48-48 48zm208-120H304V428c0-55.6 21.6-107.8 60.9-147.1S456.4 220 512 220c55.6 0 107.8 21.6 147.1 60.9S720 372.4 720 428v340z"},null,-1),ne=[oe,se];function ce(a,u){return n(),c("svg",te,ne)}var ae={name:"ant-design-bell-twotone",render:ce};const l=a=>(H("data-v-2d9bbed7"),a=a(),j(),a),le={class:"flex flex-col space-y-2",md:"w-500px"},re={key:0,class:"flex flex-row items-center space-x-1 px-3 py-2 bg-blue-100 text-blue-500 text-xs border border-blue-200 rounded-md"},ie=m(" You still have "),de=m(" in your Pro period. "),_e={key:1,class:""},ue=l(()=>t("h2",{class:"text-base font-bold"},"You'll miss out on...",-1)),pe=l(()=>t("ul",{class:"flex flex-col justify-center items-center text-gray-600 text-sm list-circle"},[t("li",null,"Export 50000 followers/following.")],-1)),he=[ue,pe],me={key:2,class:"step"},be=l(()=>t("h2",null,"Why do you want to cancel?",-1)),fe={key:3,class:"step"},ge=l(()=>t("h2",null,"Why do you want to cancel?",-1)),ve={class:"button-group"},xe=l(()=>t("span",null,[m(" Keep Pro "),t("sup",null,"+")],-1)),ye={setup(a){const{grade:u,email:b,token:y,member_time:w}=A().value,f=x("reportLog");f("unsubscribe_page");const k=R(()=>Math.ceil((new Date(w).getTime()-new Date().getTime())/(1e3*60*60*24))),e=U({index:1,hasTips:!0,reason:"",feedback:""}),p=x("sendMessage");async function M(){switch(e.index){case 1:e.index++;break;case 2:if(e.reason.length===0){p({type:"warning",message:"Please select the reason for unsubscribe."});return}e.hasTips=!1,e.index++;break;case 3:e.feedback!=""&&await W({email:b,message:e.feedback}),await f("unsubscribe_button",{reason:e.reason,feedback:e.feedback});try{await F({grade:u,email:b,token:y}),p({type:"success",message:"Unsubscribed successfully."}),g.push("/")}catch{p({type:"danger",message:"Network error, please try again later."})}break}}const g=E();function V(){g.push("/subscribe")}return(z,r)=>{const $=ae,i=N,L=P,S=D,C=ee,v=B,I=T;return n(),c("div",le,[s(e).hasTips?(n(),c("div",re,[o($),t("p",null,[ie,t("strong",null,Y(s(k))+" days left",1),de])])):d("",!0),s(e).index==1?(n(),c("div",_e,he)):d("",!0),s(e).index==2?(n(),c("div",me,[be,o(L,{modelValue:s(e).reason,"onUpdate:modelValue":r[0]||(r[0]=h=>s(e).reason=h)},{default:_(()=>[o(i,{label:"I don't use all of the feature"}),o(i,{label:"It doesn't work properly"}),o(i,{label:"I want to change to a yearly subscription"}),o(i,{label:"Other"})]),_:1},8,["modelValue"])])):d("",!0),s(e).index==3?(n(),c("div",fe,[ge,o(S,{modelValue:s(e).feedback,"onUpdate:modelValue":r[1]||(r[1]=h=>s(e).feedback=h),rows:4,type:"textarea",maxlength:"200",placeholder:"Tell us why you're canceling...","show-word-limit":""},null,8,["modelValue"])])):d("",!0),t("div",ve,[o(v,{type:"success",onclick:V},{text:_(()=>[xe]),default:_(()=>[o(C)]),_:1}),o(v,{type:"danger",text:"Canceled subscription",onclick:M},{default:_(()=>[o(I)]),_:1})])])}}};var Ce=O(ye,[["__scopeId","data-v-2d9bbed7"]]);export{Ce as default};
