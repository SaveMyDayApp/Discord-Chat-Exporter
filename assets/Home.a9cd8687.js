import{_ as U}from"./Button.9419f5df.js";import{a as v,c as x,b as e,y as M,i as s,o as $,L as V,M as j,N as H,O,P,k as S,d as n,t as A,Q as G,D as _,R as W,S as Y,m as c}from"./vendor.9ed9cc35.js";/* empty css                    *//* empty css              *//* empty css              */import{_ as K}from"./warning20-filled.4ca34747.js";import{g as Q,w as X}from"./ChromeShims.7d962531.js";import{d as z}from"./global.7b5e3d25.js";import"./index.6dc802d2.js";const F={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 256"},J=e("path",{fill:"currentColor",d:"M168 140a40 40 0 1 1-40-40a40 40 0 0 1 40 40ZM60 52a32 32 0 1 0 32 32a32 32 0 0 0-32-32Zm136 0a32 32 0 1 0 32 32a32 32 0 0 0-32-32Z",opacity:".2"},null,-1),ee=e("path",{fill:"currentColor",d:"M248.8 146.4a7.7 7.7 0 0 1-4.8 1.6a8 8 0 0 1-6.4-3.2A51.6 51.6 0 0 0 196 124a8 8 0 0 1 0-16a24 24 0 1 0-23.6-28.5a8 8 0 1 1-15.7-3a40 40 0 1 1 66.3 37a67.8 67.8 0 0 1 27.4 21.7a8 8 0 0 1-1.6 11.2Zm-56 66.1a8.1 8.1 0 0 1-3.7 10.7a9.3 9.3 0 0 1-3.5.8a8.1 8.1 0 0 1-7.2-4.5a56.1 56.1 0 0 0-100.8 0a8 8 0 0 1-10.7 3.7a8.1 8.1 0 0 1-3.7-10.7a72.1 72.1 0 0 1 35.6-34.4a48 48 0 1 1 58.4 0a72.1 72.1 0 0 1 35.6 34.4ZM128 172a32 32 0 1 0-32-32a32.1 32.1 0 0 0 32 32Zm-60-56a8 8 0 0 0-8-8a24 24 0 1 1 23.6-28.5a8 8 0 1 0 15.7-3a40 40 0 1 0-66.3 37a67.8 67.8 0 0 0-27.4 21.7a8 8 0 0 0 1.6 11.2A7.7 7.7 0 0 0 12 148a8 8 0 0 0 6.4-3.2A51.6 51.6 0 0 1 60 124a8 8 0 0 0 8-8Z"},null,-1),te=[J,ee];function ae(d,h){return v(),x("svg",F,te)}var oe={name:"ph-users-three-duotone",render:ae};const m=d=>(W("data-v-8e8a3ea8"),d=d(),Y(),d),se={key:0},ne={class:"space-y-2 flex flex-col items-center justify-center"},le=m(()=>e("p",{class:"text-sm text-gray-600 font-bold",style:{"margin-left":"20px"}},[c(" You need to open discord url and access it from plugin icon in the top right corner."),e("br"),c(" Discord url example: "),e("a",{class:"text-blue-500 underline",href:"https://discord.com/channels/821937947015249960/915452276326408262"},"https://discord.com/channels/xxx/xxx"),c(" ! ")],-1)),re={key:1},ce={class:"space-y-2 flex flex-col items-center justify-center"},ie=m(()=>e("p",{class:"text-sm text-gray-600 font-bold",style:{"margin-left":"25px"}}," Can't load discord data, please Refresh discord page and try again! ",-1)),de={key:2,class:"space-y-3 w-80 h-85 flex items-center flex-col",md:"w-600px"},ue={class:"flex"},pe={class:"space-y-3 flex flex-col items-center w-42 leftdiscord"},_e={class:"text-sm text-gray-1000 font-bold"},me=["src"],he={class:"text-sm text-gray-600 font-bold"},fe={class:"space-y-3 flex flex-col items-center w-42 right justify-center right"},ge={class:"demo-date-picker"},ve=m(()=>e("span",{class:"demonstration"},"TO:",-1)),xe=m(()=>e("span",null,null,-1)),ye=m(()=>e("span",null,null,-1)),we=c("XLSL"),ke=c("HTML"),Se=c("SHARE LINK(Dev)"),Ee={setup(d){M("sendMessage"),s(!0),s("");const h=s(""),R=s(""),u=s("");var E=s(""),y="",p=s(""),l=s(1);const w=new Date;w.setTime(w.getTime()-3600*1e3*24*365);const f=s(w),g=s(new Date);$(async()=>{let[t]=await chrome.tabs.query({active:!0,currentWindow:!0});var a=t.url&&t.url.match("^https://discord.com/channels/(@me|[0-9]+)/[0-9]+$");a&&(E.value=t.url.split("/")[4],y=t.url.split("/")[5],T(t.id,t.url||t.pendingUrl));const o=chrome.i18n.getMessage("extName");console.log(o)});function T(t,a){chrome.scripting&&chrome.scripting.executeScript({target:{tabId:t},func:()=>document.querySelectorAll('div[class^="title-"]')[0].textContent},o=>{u.value=o[0].result.split("#")[1]||u.value,console.log(u.value)}),chrome.scripting&&chrome.scripting.executeScript({target:{tabId:t},func:L},o=>{h.value=o[0].result}),chrome.scripting&&chrome.scripting.executeScript({target:{tabId:t},func:D},o=>{p.value=o[0].result&&o[0].result.replaceAll('"',""),console.log(p.value)})}function D(){return localStorage.getItem("token")}function L(){var t=document.querySelectorAll('div[class^="pill"] > span');for(i=0;i<t.length;i++)if(t[i].style.height=="40px"){var a=t[i].parentElement.parentElement.querySelector("img");return a.src}}V();const{useWindowNavigate:I}=V().meta,N=j(),Z=async t=>{if(I){let a=Q("dashboard/index.html#/Export?type="+l.value+"&channel_id="+y+"&channel="+u.value+"&token="+p.value+"&start="+f.value+"&server_icon="+h.value+"&end="+g.value);console.log(a),await X(a)}else await N.push({name:"Export",query:{type:l.value,channel:y,token:p,start:f.value,end:g.value}})};return M("reportLog")("home_page"),(t,a)=>{const o=K,b=H,k=O,B=P,C=oe,q=U;return S(E)?S(p)?(v(),x("div",de,[e("div",ue,[e("div",pe,[e("h2",_e,A(R.value),1),e("img",{class:"flex",src:h.value,alt:"",srcset:""},null,8,me),e("h3",he,A(u.value),1)]),e("div",fe,[e("div",ge,[n(b,{modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=r=>f.value=r),type:"date","unlink-panels":"","range-separator":"To",placeholder:"Start date","end-placeholder":"End date"},null,8,["modelValue"]),ve,n(b,{modelValue:g.value,"onUpdate:modelValue":a[1]||(a[1]=r=>g.value=r),type:"date","unlink-panels":"","range-separator":"To",placeholder:"End date","end-placeholder":"End date"},null,8,["modelValue"])])])]),xe,ye,n(B,{modelValue:S(l),"onUpdate:modelValue":a[2]||(a[2]=r=>G(l)?l.value=r:l=r)},{default:_(()=>[n(k,{label:0},{default:_(()=>[we]),_:1}),n(k,{label:1},{default:_(()=>[ke]),_:1}),n(k,{label:2,disabled:""},{default:_(()=>[Se]),_:1})]),_:1},8,["modelValue"]),n(q,{type:"primary",text:"Export Chat",onclick:async()=>Z()},{default:_(()=>[n(C,{class:"text-green-500"})]),_:1},8,["onclick"])])):(v(),x("div",re,[e("div",ce,[n(o,{class:"w-8 h-8 text-orange-500"}),ie])])):(v(),x("div",se,[e("div",ne,[n(o,{class:"w-8 h-8 text-orange-500"}),le])]))}}};var Ze=z(Ee,[["__scopeId","data-v-8e8a3ea8"]]);export{Ze as default};
